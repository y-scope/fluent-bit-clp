# Sample Fluent Bit configuration with output set to CLP s3 plugin.
# Load plugin via CLI: fluent-bit -e ./out_clp_s3.so -c fluent-bit.yaml
---

parsers:
  - name: json
    format: json

pipeline:
  inputs:
    # CPU outputs structured records, so no parser is needed
    - name: cpu
      tag: cpu.local
      interval_sec: 1

    # Example tail input with JSON parser
    # - name: tail
    #   path: /var/log/app.json
    #   tag: app.json
    #   parser: json

  outputs:
    - name: out_clp_s3
      match: "*"
      s3_bucket: myBucket
      # role_arn: arn:aws:iam::000000000000:role/accessToMyBucket
