# Fluent Bit configuration for Docker Compose
# Watches /logs directory and uploads to MinIO

[SERVICE]
    flush        1
    daemon       off
    log_level    info
    plugins_file /fluent-bit/etc/plugin-config.conf

[INPUT]
    name         tail
    path         /logs/*.log
    tag          app
    refresh_interval 5
    read_from_head true

[OUTPUT]
    name              out_clp_s3
    match             *
    s3_bucket         logs
    s3_region         us-east-1
    s3_bucket_prefix  app/
    upload_size_mb    16
    use_disk_buffer   true
